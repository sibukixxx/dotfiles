---
name: article-digest
description: 貼り付けられた記事・Webページのコピーテキストを要約・整形し、不要な要素を取り除いたマークダウンドキュメントを生成する。「記事を要約して」「この記事をまとめて」「記事を整理してドキュメントにして」「記事をマークダウンにして」などで発動。
---

# Article Digest

## Overview

貼り付けられた記事テキストを読み取り、以下の処理を行ってマークダウン形式のドキュメントを生成する。

1. 記事の構造と主旨を把握する
2. 不要な要素（広告・ナビゲーション・重複・冗長表現）を除去する
3. 要点を整理して読みやすい文章に整える
4. マークダウン形式で出力する

## Instructions

### Step 1: 記事テキストを受け取る

ユーザーが記事のコピーを貼り付けたら処理を開始する。

確認すること：
- 記事のタイトルはあるか
- 著者・出典情報はあるか
- 日付情報はあるか

### Step 2: 不要な要素を識別して除去する

以下は削除対象：

- 広告・プロモーション文（「PR」「sponsored」「おすすめ記事」など）
- ナビゲーションメニューやパンくずリスト
- フッター・ヘッダーのボイラープレート
- 「シェアする」「いいね」などのSNSボタンテキスト
- 重複する見出しや説明文
- 本文と無関係な関連記事リスト
- 冗長な言い回し・同じ内容の繰り返し

### Step 3: 内容を要約・整形する

以下の方針で文章を整える：

- **要約**: 記事全体の主旨を2〜4文で要約する
- **構造化**: 論点・ポイントを見出しで整理する
- **簡潔化**: 冗長な表現を削ぎ落として読みやすくする
- **事実保持**: 数字・固有名詞・引用は原文のまま保持する
- **客観性**: 記事の主張・トーンを変えない

### Step 4: マークダウン形式で出力する

以下のフォーマットで出力する：

```markdown
# [記事タイトル]

> [2〜4文の要約]

**著者**: [著者名]（あれば）
**日付**: [公開日]（あれば）
**出典**: [媒体名・URL]（あれば）

---

## [セクション見出し1]

[整形された本文]

## [セクション見出し2]

[整形された本文]

---

*このドキュメントは元記事を要約・整形したものです。*
```

### Step 5: 出力前の確認

- 記事の主旨が正確に伝わっているか
- 削除した情報の中に重要なものがないか
- 事実（数字・固有名詞）が正確に引き継がれているか

## Examples

### Example 1: ニュース記事の整形

User says: "この記事まとめてドキュメントにして"
（記事テキストを貼り付け）

Actions:
1. タイトル・著者・日付を抽出
2. 広告・関連記事リンク・ナビゲーションを除去
3. 本文を要約・箇条書き・見出しで整理
4. マークダウンフォーマットで出力

Result: 読みやすい構造化ドキュメント

### Example 2: 技術ブログ記事の整形

User says: "記事を要約して整理して"
（技術記事を貼り付け）

Actions:
1. 技術的な手順・コードブロックを保持
2. 前置きの冗長部分を圧縮
3. 手順をナンバリングリストで整理
4. コードブロックの言語指定を付与

Result: 手順が明確な技術ドキュメント

## Troubleshooting

### テキストが長すぎる場合
「このまま要約してください」と伝えると、主要セクションを優先して処理する。

### タイトルが不明な場合
内容から適切なタイトルを推定して付ける。

### 広告と本文の区別が難しい場合
文脈から判断し、不明な場合は保持する（削除より保持を優先）。
